#labels Featured
= MCE Tasklets =

The upcoming 1.2 release will provide support for tasklets. Workers can be configured based on tasking.

http://many-core-engine-perl.googlecode.com/svn/wiki/img/MCE_Tasklets.png

= Instantiation =

Setting it up is straight forward. A new option "tasklets" takes an array of tasks. Each set allows for 5 options: max_workers, use_threads, user_begin, user_func, and user_end. Forking and threading can be mixed between sets.

{{{
use threads;
use threads::shared;

use MCE;

my $mce = MCE->new(
   input_data => \@ip_list,
   chunk_size => 500,
   tasklets => [{
      max_workers => 8,
      use_threads => 0,
      user_func   => \&pinger
   },{
      max_workers => 48,
      use_threads => 1,
      user_func   => \&poller
   },{
      max_workers => 8,
      use_threads => 1,
      user_func   => \&db
   }]
);

$mce->run();

}}} 

One no longer has to create multiple MCE instances and run them in parallel. All workers shared the same 4 socket channels. A single MCE instance is all that's needed. :)

- mario

 